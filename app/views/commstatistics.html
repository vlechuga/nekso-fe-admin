<div ng-if="vm.notAuthMsg" not-authorized message="vm.notAuthMsg" class="not-authorized"></div>
<div class="container-fluid padding-footer">
  <div class="row sub-header">
    <div class="col-sm-9">
        <h4>Statistics ({{vm.totalAdministrator}} Users)</h4>
    </div>
    <!-- <div class="col-sm-3 text-right">
      <button ladda="vm.loading.export" data-style="slide-left" class="btn btn-primary" csv-header="['Ride ID', 'Ride date', 'Ride time', 'Taxi line', 'Driver', 'Driver email', 'Passenger', 'Passenger email', 'Pickup', 'Destination', 'Status', 'First time']" filename="rides.csv" ng-csv="vm.exportToCsv()" span>
        Export to CSV
      </button>
    </div> -->
  </div>
  <div class="row panel-heading">
    <div class="row shape-light-grey">
      <div class="col-sm-8">
        <div class="row">
          <div class="col-sm-4">
            <p class="input-group date-box has-feedback">
              <input date-range-picker class="form-control date-picker font-11 inside-search-icon" type="text"
                     ng-model="vm.filter.date" options="vm.filter.date.opts" required/>
              <i class="glyphicon glyphicon-calendar form-control-feedback no-zindex"></i>
            </p>
          </div>
        </div>
      </div>
      <div class="col-sm-3 col-sm-offset-1 text-right">
        <p class="input-group search-box">
          <input class="form-control" placeholder="Search" type="text" ng-model="vm.filter.searchText" ng-keydown="vm.searchDriversOnEnter($event)"/>
            <span class="input-group-btn margin-top-input search-btn" ng-click="vm.searchDrivers()">
              <button class="btn btn-default" type="button">
                <i class="material-icons text-dark-grey">search</i>
              </button>
            </span>
            <span ng-if="vm.filter.searchText && vm.filter.searchText !== ''" class="input-group-btn margin-top-input clear-btn" ng-click="vm.clearSearchField()">
              <button class="btn btn-default" type="button">
                <i class="material-icons text-dark-grey">close</i>
              </button>
            </span>
        </p>
      </div>
    </div>
  </div>

  <div class="row">
        <div class="panel-default panel panel-commdrivers panel-no-shadow">
          <div class="shape-light-grey">
            <div class="col-sm-12 margin-bottom-15 margin-top-15">

        <!-- Countries and states -->
            <ul class="list-inline margin-bottom-null ul-menu-of-filters">
            <li>
              <filter_country_state multiple="true" country="vm.filter.country" states="vm.filter.states"></filter_country_state>
            </li>
            </ul>
        <!-- End countries and states -->

    </div>
    </div>
    </div>
  </div>

  <div block-ui="PermissionsList">
    <div class="row">
      <div class="col-sm-12">
        <div class="panel panel-default panel-commstatistics panel-no-shadow">
          <div class="panel-body">
            <table class="table table-hover table-condensed table-bordered">
              <thead>
                <th class="column-header-color">
                  Name
                </th>
                <th class="column-header-color">
                  Email
                </th>
                <th class="column-header-color">
                  <i class="material-icons">phone</i>
                </th>
                <th class="column-header-color">
                  <i class="material-icons">sms</i>
                </th>
                <th class="column-header-color">
                  <i class="material-icons">email</i>
                </th>
                <th class="column-header-color">
                  <i class="material-icons">group</i>
                </th>
                <th class="column-header-color">
                  <i class="material-icons">account_circle</i>
                </th>
                <th class="column-header-color">
                  <i class="material-icons">done</i>
                </th>
              </thead>
              <tbody>
              <tr ng-repeat="administrator in vm.administrators track by $index">
                <td>
                  <span>{{administrator.fullName}}</span>
                </td>
                <td>
                  <span>{{administrator.email}}</span>
                </td>
                <td>
                  <span>{{administrator.memberSupport.totalCall}}</span>
                </td>
                <td>
                  <span>{{administrator.memberSupport.totalSms}}</span>
                </td>
                <td>
                  <span>{{administrator.memberSupport.totalEmail}}</span>
                </td>
                <td>
                  <span>{{administrator.memberSupport.totalTraining}}</span>
                </td>
                <td>
                  <span>{{administrator.visitorsCreated}}</span>
                </td>
                <td>
                  <span>{{administrator.actionsCreated}}</span>
                </td>
              </tr>
              <tr class="hidden-xs">
                <td>
                <span></span>
                </td>
                <td class="text-right">
                  <span>TOTAL</span>
                </td>
                <td>
                  <span>{{vm.administrators.totalCall}}</span>
                </td>
                <td>
                  <span>{{vm.administrators.totalSms}}</span>
                </td>
                <td>
                  <span>{{vm.administrators.totalEmail}}</span>
                </td>
                <td>
                  <span>{{vm.administrators.totalTraining}}</span>
                </td>
                <td>
                  <span>{{vm.administrators.totalVisitorsCreated}}</span>
                </td>
                <td>
                  <span>{{vm.administrators.totalActionsCreated}}</span>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="bar-pagination">
        <div class="row">
          <div class="col-sm-8 text-left">
            <pagination boundary-links="true" class="pagination" first-text="&laquo;" items-per-page="vm.controls.numPerPage" last-text="&raquo;" max-size="5" next-text="&rsaquo;" ng-model="vm.controls.currentPage" previous-text="&lsaquo;" rotate="false" total-items="vm.totalAdministrator"></pagination>
          </div>
          <div class="col-sm-4 text-right">
            <div class="btn-group items-per-page">
              <label btn-radio="10" class="btn btn-default" id="btn_numPerPage10" ng-model="vm.controls.numPerPage">10</label>
              <label btn-radio="25" class="btn btn-default" id="btn_numPerPage25" ng-model="vm.controls.numPerPage">25</label>
              <label btn-radio="50" class="btn btn-default" id="btn_numPerPage50" ng-model="vm.controls.numPerPage">50</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
